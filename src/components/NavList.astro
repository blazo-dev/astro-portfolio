---
const routes = [
	{ path: '', text: 'Home' },
	{ path: 'about', text: 'About' },
	{ path: 'experience', text: 'Experience' },
	{ path: 'contact', text: 'Contact' }
]
---

<ul class='nav-list'>
	{
		routes.map(({ path, text }) => (
			<li class='nav-item'>
				<a class='nav-link' href={`/${path}`}>
					{text}
				</a>
			</li>
		))
	}
</ul>
<script>
	const navLinks: NodeListOf<HTMLAnchorElement> =
		document.querySelectorAll('.nav-link')
	navLinks.forEach((link) => {
		link.classList.remove('active')

		const currentPath = window.location.pathname.slice(1)

		const hrefArray = link.href.split('/')
		const thisPath = hrefArray[hrefArray.length - 1]

		if (currentPath === thisPath) {
			link.classList.add('active')
		}
	})
</script>
<style lang='scss'>
	.nav {
		&-list {
			display: flex;
			justify-content: space-between;
			align-items: center;

			gap: 1em;

			padding: 0;
			margin: 0;

			list-style: none;
		}

		&-item {
		}

		&-link {
			--border-weight: 1px;

			text-decoration: none;
			color: var(--text-color);
			font-weight: 600;
			font-size: 1.2em;

			border-bottom: var(--border-weight) solid transparent;

			transition: var(--color-transition);

			&:hover {
				border-bottom: var(--border-weight) solid var(--text-color);
			}

			@media screen and (min-width: 768px) {
				--border-weight: 3px;
			}

			&.active {
				color: var(--p-color);
				border-bottom: var(--border-weight) solid var(--p-color);
			}
		}
	}
</style>
